!function(window,undefined){function __objPick__(obj,key){var args=_.args(arguments),rst={};return obj=args.shift(),_.each(args,function(key){Object.prototype.hasOwnProperty.call(obj,key)&&(rst[key]=obj[key])}),rst}function __arrPick__(arr,key){var args=_.args(arguments);return arr=args.shift(),key=args[0],_.run(mu.isNumeric(key),function(){var rst=[];return _.each(args,function(k){_.isNumeric(k)&&rst.push(arr[k])}),rst},function(){return _.map(arr,function(o){var __args__=_.extend([],args);return __args__.unshift(o),__objPick__.apply(null,__args__)})})}var mu,_,arrPro=Array.prototype,objPro=Object.prototype,fnPro=Function.prototype,slice=arrPro.slice,REG=(objPro.hasOwnProperty,{CHINESE:/^([u4E00-u9FA5]|[uFE30-uFFA0])*$/g,TRIM:/(^\s*)|(\s*$)/g,TRIM_LEFT:/(^\s*)/g,TRIM_RIGHT:/(\s*$)/g}),C={REMOVE_MAP:"__remove_map__"};mu=_=function(obj){return obj instanceof _?obj:this instanceof _?(this.__wrapped__=obj,void(this.__chain__=!1)):new _(obj)},mu.is={},mu.verison="1.7.9",_.iffn=function(fn,args,context){return"function"==typeof fn?fn.apply(context,args||[]):fn},mu.run=function(con,inbox,outbox){var b=_.iffn(con);return 1===arguments.length?b:mu.isNotEmpty(b)?_.iffn(inbox,[con]):_.iffn(outbox,[con])},mu["if"]=function(con,inbox,outbox){return con?_.iffn(inbox,[con]):_.iffn(outbox,[con])},mu.exist=function(con,inbox,outbox){return _.isExist(con)?_.iffn(inbox,[con]):_.iffn(outbox,[con])},mu.empty=function(con,inbox,outbox){return _.isEmpty(con)?_.iffn(inbox,[con]):_.iffn(outbox,[con])},mu.have=function(con,inbox,outbox){return _.isNotEmpty(con)?_.iffn(inbox,[con]):_.iffn(outbox,[con])},mu.injector=function(fn,any){var args=_.args(arguments);return fn=args.shift(),fn.apply(null,args)},mu.noop=function(){},mu.type=function(any,type){if(type)return type===_.type(any);if(null===any||any===undefined)return String(any);if(1===any.nodeType)return"element";var reg=/\[object (Boolean|Number|String|Function|Array|Date|RegExp)\]/,typeMap=objPro.toString.call(Object(any));return typeMap=reg.exec(typeMap),type=typeMap?typeMap[1].toLowerCase():any.callee?"arguments":_.isElement(any)?"element":"object"},mu.each=function(any,fn,context){var i=0;switch(_.type(any)){case"number":for(;any>i&&fn.call(context,i,i+1,any)!==!1;)i++;break;case"array":case"string":for(var l=any.length;l>i&&fn.call(context,any[i],i,any)!==!1;i++);break;case"object":for(i in any)if(any.hasOwnProperty(i)&&fn.call(context,any[i],i,any)===!1)break}},mu.map=function(obj,fn,initData,context){if(!(obj&&fn&&_.isFunction(fn)))return obj;var rst=initData?initData:_.isArrayLike(obj)?[]:{};return _.each(obj,function(v,k){var cb=fn.call(context,v,k,obj);cb!==C.REMOVE_MAP&&(_.isObject(rst)?cb&&cb.__key__?rst[cb.__key__]=cb.__val__:rst[k]=cb:rst[rst.length]=cb)}),rst},mu.extend=function(isDeep,src,target){var args=_.args(arguments);return isDeep=_.type(isDeep,"boolean")?args.shift():!1,src=args[0],"object"!=typeof src?src:(_.each(args,function(target){_.each(target,function(oo,kk){isDeep?src[kk]="object"==typeof oo?_.extend(!0,src[kk]||_.reorigin(oo),oo):oo:src[kk]!==oo&&(src[kk]=oo)})}),src)},mu.isBaseType=function(any){return Object(any)!==any},mu.isNull=function(any){return null===any},mu.isUndefined=function(any){return any===undefined},mu.isNumeric=function(any){return!isNaN(parseFloat(any))&&isFinite(any)},mu.isInteger=function(any){return _.isNumeric(any)&&any===parseInt(any)},mu.isWindow=function(win){return!(!win||win!==win.window)},mu.isElement=function(any){return!(!any||1!==any.nodeType||_.isPlainObject(any))},mu.isDate=function(any){return _.type(any,"date")},mu.isDateLike=function(any){var d=new Date(any);return"Invalid Date"!==d.toString()},mu.isArray=function(any){return _.type(any,"array")},mu.isObject=function(any){return _.type(any,"object")},mu.isFunction=function(any){return"function"==typeof any},mu.isEmptyObject=function(obj){for(var key in obj)if(obj.hasOwnProperty(key))return!1;return!0},mu.isPlainObject=function(obj){return _.isObject(obj)?(Object.getPrototypeOf||(Object.getPrototypeOf=function(obj){return obj.__proto__||obj.prototype||obj.constructor&&obj.constructor.prototype||Object.prototype}),Object.getPrototypeOf(obj)===Object.prototype):!1},mu.isEmpty=function(any){var rst=!any;if(!rst)switch(_.type(any)){case"string":var s=any.replace(/(^\s*)|(\s*$)/g,"");rst=0===s.length||"0"===s;break;case"array":rst=0===any.length;break;case"object":rst=_.isEmptyObject(any);break;case"date":rst=!_.isDateLike(any)}return rst},mu.isNotEmpty=function(){var args=_.args(arguments);return!_.isEmpty.apply(null,args)},mu.isExist=function(any){return!(null===any||any===undefined)},mu.isNotExist=function(){var args=_.args(arguments);return!_.isExist.apply(null,args)},mu.isIf=function(any){return!!any},mu.isNotIf=function(){var args=_.args(arguments);return!_.isIf.apply(null,args)};var MAX_ARRAY_INDEX=Math.pow(2,53)-1;mu.isArrayLike=function(any){var length=_.isExist(any)&&"object"==typeof any&&!_.isPlainObject(any)&&any.length;return"number"==typeof length&&length>=0&&MAX_ARRAY_INDEX>=length},mu.ifnvl=function(src,target,fn){return _.isExist(src)?fn?fn.call(null,src,target):src:target},mu.ifempty=function(src,target,fn){return _.isEmpty(src)?target:fn?fn.call(null,src,target):src},mu.ifif=function(src,target,fn){return src?fn?fn.call(null,src,target):src:target},mu.args=function(expand,args,start){return _.type(arguments[0],"boolean")?expand=arguments[0]:(args=arguments[0],start=arguments[1],expand=!1),args=slice.call(args,start||0),expand&&_.each(args,function(v,i){args["__"+i+"__"]={type:_.type(v),val:v}}),args},mu.reorigin=function(any){return{string:"",number:0,date:new Date(0),regex:new RegExp,object:{},array:[],"function":_.noop}[_.type(any)]},mu.create=function(val,key){return 1===arguments.length?[val]:_.run(function(){var obj={};return obj[key]=val,obj})},mu.or=function(src,target){var args=_.args(arguments);src=args.shift();for(var i=0,l=args.length;l>i;i++)if(target=args[i],src===target)return!0;return!1},mu.compare=mu.or,mu.and=function(src,target){var args=_.args(arguments);src=args.shift();for(var i=0,l=args.length;l>i;i++)if(target=args[i],src!==target)return!1;return!0},mu.toStringWithType=function(any){return _.type(any)+"__"+any},mu.copy=function(any){return"object"!=typeof any?any:_.isArray(any)?any.slice():_.extend({},any)},mu.clone=function(any){return _.extend(!0,{},any)},_.run(function(){var module={options:[],header:[navigator.platform,navigator.userAgent,navigator.appVersion,navigator.vendor,window.opera],dataos:[{name:"Windows Phone",value:"Windows Phone",version:"OS"},{name:"Windows",value:"Win",version:"NT"},{name:"iPhone",value:"iPhone",version:"OS"},{name:"iPad",value:"iPad",version:"OS"},{name:"Kindle",value:"Silk",version:"Silk"},{name:"Android",value:"Android",version:"Android"},{name:"PlayBook",value:"PlayBook",version:"OS"},{name:"BlackBerry",value:"BlackBerry",version:"/"},{name:"Mac",value:"Mac",version:"OS X"},{name:"Linux",value:"Linux",version:"rv"},{name:"Palm",value:"Palm",version:"PalmOS"}],databrowser:[{name:"Chrome",value:"Chrome",version:"Chrome"},{name:"Chromium",value:"Chromium",version:"Chromium"},{name:"Firefox",value:"Firefox",version:"Firefox"},{name:"Safari",value:"Safari",version:"Version"},{name:"IE",value:"MSIE",version:"MSIE"},{name:"Opera",value:"Opera",version:"Opera"},{name:"BlackBerry",value:"CLDC",version:"CLDC"},{name:"Edge",value:"Edge",version:"Edge"}],datafoctory:[{name:"Mozilla",value:"Mozilla",version:"Mozilla"}],matchItem:function(string,data){var rst={name:"unknown",version:0,bigVersion:0};return _.each(data,function(item){var regex=new RegExp(item.value,"i"),version=_.run(regex.test(string),function(){var regexv=new RegExp(item.version+"[- /:;]([\\d._]+)","i"),matches=string.match(regexv)||[];return _.run(matches[1],function(version){var versions=version.split(/[._]+/);return versions.splice(1,0,"."),parseFloat(versions.join(""))})});_.run(version,function(){rst.name=item.name,rst.version=version,rst.bigVersion=parseInt(version)}),_.is[item.name.toLowerCase()]=function(){return version}}),rst}},agent=module.header.join(" "),os=module.matchItem(agent,module.dataos),browser=module.matchItem(agent,module.databrowser);mu.environment=function(type){var rst={os:os,browser:browser};return type?rst[type]:rst}});var array__={};array__.intercept=function(arr,n,start,fn){var rst,args=_.args(!0,arguments);return args.__2__&&"number"!==args.__2__.type&&(fn=start,start=0),start=start||0,rst=n?arr.slice(start,start+n):arr.shift(),fn?fn.call(null,rst,arr):rst},mu.first=function(arr,n,fn){return array__.intercept(arr,n,fn)},mu.last=function(arr,n,fn){var rst;return rst=n?arr.slice(-n):arr[arr.length-1],fn?fn.call(null,rst,arr):rst},mu["delete"]=function(arr,i){return delete arr[i],arr},mu.unique=function(arr){var obj=_.map(arr,function(v,i){return{__key__:_.toStringWithType(v),__val__:i}},{});return _.map(obj,function(v){return arr[v]},[])},mu.intersect=function(arr1,arr2){var args=_.args(arguments),arr=[];return args.length<2?arr:(arr1=_.unique(args.shift()||[]),arr2=_.unique(args.shift()||[]),_.each(arr1,function(o){_.indexOf(arr2,o)>-1&&arr.push(o)}),args.length>0?(args.unshift(arr),_.intersect.apply(null,args)):arr)},mu.union=function(arr1,arr2){var args=_.args(arguments),arr=[];return _.each(args,function(o){arr=arr.concat(o)}),_.unique(arr)},mu.minus=function(arr1,arr2){var args=_.args(arguments),arr=[];return args.length<2?arr:(arr1=_.unique(args.shift()||[]),arr2=_.unique(args.shift()||[]),_.each(arr1,function(o){-1===_.indexOf(arr2,o)&&arr.push(o)}),args.length>0?(args.unshift(arr),_.minus.apply(null,args)):arr)},mu.complement=function(arr1,arr2){var args=_.args(arguments);return _.minus(_.union.apply(null,args),_.intersect.apply(null,args))},mu.clean=function(arr,level){level=level||1;var fn={1:_.isUndefined,2:_.isNotExist,3:_.isIf,4:_.isEmpty};return _.map(arr,function(v){return fn[level](v)?C.REMOVE_MAP:v})},mu.insert=function(arr,val,index){var l=arr.length;return index=index>l?l:0>index?0:index||0,arr.splice(index,0,val),arr},mu.indexOf=function(arr,item){item=_.toStringWithType(item);var index=-1;return _.each(arr,function(v,i){return item===_.toStringWithType(v)?(index=i,!1):void 0}),index},mu.keys=function(obj){return _["if"](Object.keys,function(keys){return keys(obj)},function(){return _.map(obj,function(key){return key},[])})},mu.vals=function(obj){return _.map(obj,function(key,val){return val},[])},mu.remove=function(collect,conditions){var callfn=conditions;return _.isFunction(conditions)||(callfn=function(o,key){return key===conditions}),_.map(collect,function(o,key){return callfn.call(null,o,key,collect)?C.REMOVE_MAP:o})},mu.len=function(obj){return _.isObject(obj)?_.keys(obj).length:_.isArray(obj)||_.isFunction(obj)?obj.length:String(obj).length},mu.flat=mu.chainToFlat=function(obj){var arrKey=function(index){return"["+index+"]"},rst={};return _.each(obj,function(v,k,obj){var key=_.isArray(obj)?arrKey(k):k;"object"==typeof v?_.each(_.flat(v),function(vv,kk){rst[key+"."+kk]=vv}):rst[key]=v}),rst},mu.flatWithBracket=function(obj,isBracket){var rst={};return _.each(obj,function(v,k){var key=isBracket?"["+k+"]":k;"object"==typeof v?_.each(_.flatWithBracket(v,!0),function(vv,kk){rst[key+""+kk]=vv}):rst[key]=v}),rst},mu.flatToChain=function(obj){var reg=/^[(\d+)]$/g,rst={},setVal=function(key,i,l,v){var isArray=reg.test(key);isArray&&(key=reg.exec(key)[1],_.isArray(rst)||(rst=[])),rst[key]={},i===l&&(rst[key]=v)};return _.each(obj,function(val,prop){var part=prop.split("."),l=part.length;_.each(part,function(key,i){setVal(key,i,l)})}),rst},mu.find=function(collect,fn){var rst;return _.each(collect,function(v,i,src){return fn.call(null,v,i,src)?(rst=v,!1):void 0}),rst},mu.findIndex=function(arr,fn){var rst;return mu.run(!_.isFunction(fn),function(){var val=fn;fn=function(v){return val===v}}),_.each(arr,function(v,i,src){return fn.call(null,v,i,src)?(rst=i,!1):void 0}),rst},mu.query=function(){},mu.queryIndex=function(){},mu.prop=function(collect,propStr){var keys,args=_.args(arguments),rst=collect||window;keys=args.length>2?args.slice(1):propStr.split(".");for(var key,i=0;key=keys[i++];){if(!_.isExist(rst[key])||!rst.hasOwnProperty(key))return;rst=rst[key]}return rst},mu.pick=function(o,key){return _.isObject(o)?__objPick__.apply(null,arguments):__arrPick__.apply(null,arguments)},mu.bind=function(fn,context,any){var nativeBind=fnPro.bind,args=_.args(arguments);return fn=args.shift(),_.run(nativeBind&&nativeBind===fn.bind,function(){return nativeBind.apply(fn,args)},function(){context=args.shift();var bound=function(){if(args=args.concat(_.args(arguments)),!(this instanceof bound))return fn.apply(context,args);var Ctor=_.noop();Ctor.prototype=fn.prototype;var self=new Ctor;Ctor.prototype=null;var result=fn.apply(self,args);return _.isObject(result)?result:self};return bound})},mu.bindAll=function(obj,keys){var args=_.isUndefined(keys)?_.keys(obj):_.args(keys,1);return _.each(args,function(k){_.run(obj[k],function(fn){_.isFunction(fn)&&(obj[k]=_.bind(fn,obj))})}),obj},mu.debounce=function(fn,wait,immediate){var timeout,rst;return wait=Math.abs(wait),function(){var context=this,args=arguments,later=function(){timeout=null,immediate||run()},run=function(){rst=fn.apply(context,args),context=null,args=null},isImmediate=immediate&&!timeout;return clearTimeout(timeout),timeout=setTimeout(later,wait),isImmediate&&run(),rst}},mu.after=function(n,fn,context){if(!_.isFunction(fn))throw new TypeError;return function(){return--n<1?fn.apply(context,arguments):void 0}};mu.trim=function(str,postion){postion=postion||"all";var reg={all:REG.TRIM,left:REG.TRIM_LEFT,right:REG.TRIM_RIGHT};return str.replace(reg[postion]||"","")},mu.intercept=function(str,max,adjust,symbol){adjust=adjust||3,symbol=_.ifnvl(symbol,"...");var len=str.length;return!max||len>=str?str:str.substr(0,max-adjust)+symbol},mu.leftpad=function(s,l,symbol){for(symbol=symbol||"0",s=String(s);s.length<Math.abs(l);)s=symbol+s;return s},mu.concat=function(s1){var args=_.args(arguments);return args.join("")},mu.now=function(timestamp){return timestamp?+new Date:new Date},mu.timestamp=function(date,initType,short){date=date||new Date,date=_.type(date,"Date")?date:new Date(date);var typeObj={yyyy:"setFullYear",MM:"setMonth",dd:"setDate",hh:"setHours",mm:"setMinutes",ss:"setSeconds",SS:"setMilliseconds"};initType&&_.each(typeObj,function(fn,type){initType.indexOf(type)>-1&&date[fn](0)});var rst=+date;return short?Math.floor(rst/1e3):rst},mu.format=function(src){var format,args=_.args(arguments);src=args.shift();var numfomart=function(str){return str.replace(/(?=(?!^)(?:\d{3})+(?:\.|$))(\d{3}(\.\d+$)?)/g,",$1")};switch(_.type(src)){case"string":return _.isEmpty(args)?numfomart(src):src.replace(/\{(\d+)\}/g,function(m,i){return args[i]||m});case"date":var y=src.getFullYear(),M=src.getMonth()+1,q=Math.ceil(M/3),w=src.getDay(),d=src.getDate(),h=src.getHours(),m=src.getMinutes(),s=src.getSeconds(),S=src.getMilliseconds(),dateVals=[{key:"y{4}",val:y},{key:"y{2}",val:_.leftpad(y%100,2)},{key:"q",val:q},{key:"M{2}",val:_.leftpad(M,2)},{key:"M",val:M},{key:"w",val:w},{key:"d{2}",val:_.leftpad(d,2)},{key:"d",val:d},{key:"h{2}",val:_.leftpad(h,2)},{key:"h",val:h},{key:"m{2}",val:_.leftpad(m,2)},{key:"m",val:m},{key:"s{2}",val:_.leftpad(s,2)},{key:"s",val:s},{key:"S{2}",val:S}];return(format=args.shift()||"")?(_.each(dateVals,function(o){var reg=new RegExp("("+o.key+")","g");format=format.replace(reg,o.val)}),format):"";case"number":return numfomart(src+"")}},mu.storage=function(storage,key,val){var args=_.args(arguments);if(_.run(_.type(storage,"string"),function(){key=args[0],val=args[1],storage=window.localStorage}),storage=storage||window.localStorage,!key){var list=_.copy(storage);return{remove:function(key){return storage.removeItem(key)},clear:function(){return storage.clear()},list:function(){return _.map(list,function(o,k){return _.storage(storage,k)})},keys:function(){return _.keys(list)}}}return _.exist(val,function(){storage.setItem(key,JSON.stringify(val).replace(/^\"(.*)\"$/,"$1"))},function(){var rst=storage.getItem(key);try{return JSON.parse(rst)}catch(e){return rst||undefined}})},mu.ready=function(handler){var done=!1,top=!0,root=document.documentElement,modern=document.addEventListener,addHandler=modern?"addEventListener":"attachEvent",removeHandler=modern?"removeEventListener":"detachEvent",pre=modern?"":"on",readyfn=function(e){var type=e.type;("readystatechange"!==type||"complete"===document.readyState)&&(("load"===type?window:document)[removeHandler](pre+type,readyfn,!1),done||(done=!0,handler.call(null,type||e)))},doScroll=function(){try{root.doScroll("left")}catch(e){return void setTimeout(doScroll,50)}readyfn("poll")};if("complete"===document.readyState)handler.call(window,"lazy");else{if(!modern&&root.doScroll){try{top=!window.frameElement}catch(e){}top&&doScroll()}document[addHandler](pre+"DOMContentLoaded",readyfn,!1),document[addHandler](pre+"readystatechange",readyfn,!1),window[addHandler](pre+"load",readyfn,!1)}},mu.deepDecodeURIComponent=function(str){return _.each(str.split("%"),function(){str=decodeURIComponent(str)}),str},mu.param=function(obj,url,fn){if(!_.isObject(obj))return void 0;var p="",params=_.flatWithBracket(obj);return url&&(params=fn?fn.call(null,params,url):params),_.each(params,function(v,k){v=mu.ifnvl(v,"")+"",p=mu.concat(p,"&",encodeURIComponent(k),"=",encodeURIComponent(v))}),p.replace(/^\&/,"")},mu.param2Obj=function(param){var p=param.split("&");return mu.map(p,function(kv){var __kv__=kv.split("=");return{__key__:__kv__[0],__val__:__kv__[1]}},{})},mu.parseURL=function(url){var l=window.location;url=url||l.href;var parser=document.createElement("a");parser.href=url;var URI={source:parser.href,protocol:parser.protocol||l.protocol,host:parser.host,hostname:parser.hostname||l.hostname,port:parser.port,origin:l.origin,pathname:parser.pathname.replace(/^([^\/])/,"/$1"),path:parser.pathname.replace(/^(.*)?\/.*/,"$1"),search:parser.search.replace(/^\?/,""),query:{},hash:parser.hash.replace(/^#/,""),username:parser.username,password:parser.password,ext:null};URI.query=_.param2Obj(URI.search),URI.ext=mu.run(mu.last(URI.pathname.split("/")),function(item){var arr=item.split(".");return arr.length>1?mu.last(arr):null}),URI.protocolname=URI.protocol.replace(/\:$/,"");var router={router:URI.hash.split("?")[0],routerSearch:URI.hash.split("?")[1],routerQuery:{}};return mu.run(router.routerSearch,function(routerSearch){router.routerQuery=_.param2Obj(routerSearch)}),URI=_.extend(URI,router),URI.rebuild=function(opts){opts=mu.extend(!0,URI,opts),mu.run(opts.query,function(query){opts.search=_.param(query)});var routerSearch=_.run(opts.routerQuery,function(query){return _.param(query)});return routerSearch=routerSearch?"?"+routerSearch:"",opts.hash=_.ifnvl(opts.router,opts.hash)+routerSearch,parser=_.extend(parser,opts),parser.href},URI.reform=function(fn){var opts=fn.call(null,URI);return _.isEmptyObject(opts)?console.error("回调函数必须返回对象"):URI.rebuild(opts)},URI},mu.rebuildURL=function(oldurl,opts){return _.parseURL(oldurl).rebuild(opts)},window.mu=mu}(window);